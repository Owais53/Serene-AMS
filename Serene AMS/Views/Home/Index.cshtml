@{
    /**/

    ViewBag.Title = "Home Page";
}
<nav>
    <ol class="breadcrumb">
        <li class="breadcrumb-item active">
            Dashboard
        </li>
    </ol>
</nav>
<div class="ibox">

    <div class="ibox-body">
        @if (Session["RoleName"].ToString() == "Recruitment Manager")
        {


            <table id="tblcandid1" class="table table-striped table-hover responsive table-responsive">
                <thead>
                    <tr style="background-color:#0094ff; color:#ecf0f1">
                        <th>Name</th>
                        <th>Contact</th>
                        <th>Email</th>
                        <th>Date of Birth</th>
                        <th>Gender</th>
                        <th>Status</th>
                        <th>Submitted on</th>
                        <th>CV</th>
                    </tr>
                </thead>

                <tfoot>
                    <tr>
                        <th>Name</th>
                        <th>Contact</th>
                        <th>Email</th>
                        <th>Date of Birth</th>
                        <th>Gender</th>
                        <th>Status</th>
                        <th>Submitted on</th>
                        <th>CV</th>
                    </tr>
                </tfoot>


            </table>
        }
    </div>
</div>

@section scripts{

<script type="text/javascript">
     $(function () {
            var successMessage = '@TempData["SuccessMessage101"]'
            if (successMessage != '')
                alertify.success(successMessage);
      });
    var Popup, dataTable2;

    $(function () {

        dataTable2 = $('#tblcandid1').DataTable({
            pageLength: 10,
            "ajax": {
                "url": '/recruitment/GetCandidateList',
                "type": "get",
                "datatype": "json"
            },
            "columns": [

                { "data": "ApplicantName", "authowidth": false },
                { "data": "Phone", "authowidth": false },
                { "data": "Email", "authowidth": false },
                {
                    "data": "Dob", "render": function (mydata) {
                        var date = new Date(parseInt(mydata.substr(6)));
                        var month = date.getMonth() + 1;
                        return date.getDate() + "/" + month + "/" + date.getFullYear();
                    },
                },
                { "data": "Gender", "authowidth": false },
                {
                    "data": "Status", "render": function (data) {
                        if (data == "Pending") {
                            return "<label class='badge-primary'>" + data + "</label>"

                        }
                        else if (data == "Rejected") {
                            return "<label class='badge-danger'>" + data + "</label>"

                        }
                        else {
                            return "<label class='badge-success'>" + data + "</label>"

                        }
                    },
                },
                {
                    "data": "Submittedon", "render": function (data) {
                        var date = new Date(parseInt(data.substr(6)));
                        var month = date.getMonth() + 1;
                        return date.getFullYear() + "/" + month + "/" + date.getDate();
                    },

                },
                {
                    "data": "CV", "render": function (data) {
                        return '<a href="/CV/' + data + '">View</a>'
                    },
                }
               


            ]


        });


    });
</script>

}